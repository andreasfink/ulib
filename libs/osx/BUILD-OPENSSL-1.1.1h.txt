# You should build openssl 1.1.1g under MacOS X as following

1. unpack the tar apply, the patch and change the directory

wget https://www.openssl.org/source/openssl-1.1.1h.tar.gz

patch the follwoing files

crypto/bio/bss_dgram.c
test/handshake_helper.c

and replace 

#include <netinet/sctp.h>

with


#ifdef __APPLE__
#include "/Library/Application Support/FinkTelecomServices/frameworks/sctp.framework/Versions/A/Headers/sctp.h"
#else
#include <netinet/sctp.h>
#endif



2. Configure and build openssl with SCTP support

export CFLAGS=-mmacosx-version-min=10.8
./Configure darwin64-x86_64-cc sctp no-shared


3. install it into the binary directory and to the system

make install
make DESTDIR=../openssl-1.1.h-binary  install

